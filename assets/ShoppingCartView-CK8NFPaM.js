import{_ as $,r as h,o as r,c as v,f as x,F as S,b as t,t as k,j as M,w as y,v as w,e as I,k as V,l as b}from"./index-BQor-stG.js";const A="/vue-profile/back.svg",D={class:"priceDiv"},j={class:"nameDiv"},B={class:"countDiv"},U=["onClick"],P=["onChange","onUpdate:modelValue"],F=["onClick"],L=["onClick"],T={__name:"Product",props:{products:{type:Array}},emits:["sendCount"],setup(m,{emit:l}){const u=m,C=l;function g(e){C("sendCount",e,n.value[e-1]),n.value[e-1]=0}const n=h([]);n.length=u.products.length;for(var i=0;i<n.length;i++)n.value[i]=0;function d(e){n.value[e]<1?alert("數量不能為負！"):n.value[e]-=1}function a(e){u.products[e].store<=n.value[e]?alert("已超出庫存！"):n.value[e]+=1}function _(e){n.value[e]<1&&(n.value[e]=0,alert("數量不能為負！")),u.products[e].store<=n.value[e]&&(n.value[e]=u.products[e].store,alert("已超出庫存！"))}return(e,p)=>(r(!0),v(S,null,x(m.products,c=>(r(),v("div",{key:c.id,class:"singleProduct"},[t("div",{class:"imgDiv",style:M({backgroundImage:`url(${c.img})`})},[t("div",D,[t("p",null,k("$"+c.price),1)]),p[0]||(p[0]=t("div",{class:"priceBackGround"},null,-1))],4),t("div",j,[t("text",null,k(c.name),1)]),t("div",B,[t("span",null,[t("button",{class:"btnMath",onClick:o=>d(c.id-1)},"–",8,U),y(t("input",{type:"text",onChange:o=>_(c.id-1),"onUpdate:modelValue":o=>n.value[c.id-1]=o},null,40,P),[[w,n.value[c.id-1]]]),t("button",{class:"btnMath",onClick:o=>a(c.id-1)},"+",8,F)]),t("button",{class:"btnCart",onClick:o=>g(c.id)},"加入購物車",8,L)])]))),128))}},z=$(T,[["__scopeId","data-v-aeaa7b4c"]]),E={class:"cart"},G=["src"],N={class:"buyCount"},q=["onClick"],H=["onUpdate:modelValue"],J=["onClick"],K={class:"buyTotal"},O={key:1},Q={__name:"Cart",props:{buys:{type:Array}},emits:["addCount","minusCount"],setup(m,{emit:l}){const u=m,C=l;function g(i){u.buys.find(d=>d.id===i).store==0?alert("已超出庫存！"):C("addCount",i)}function n(i){C("minusCount",i)}return(i,d)=>(r(),v("div",E,[m.buys.length>0?(r(!0),v(S,{key:0},x(m.buys,a=>(r(),v("div",{key:a.id,class:"buyList"},[t("img",{src:`${a.img}`},null,8,G),t("div",N,[t("text",null,k(a.name+" / $"+a.price),1),t("span",null,[t("button",{class:"btnMath",onClick:_=>n(a.id)},"–",8,q),y(t("input",{type:"text","onUpdate:modelValue":_=>a.count=_,readonly:""},null,8,H),[[w,a.count]]),t("button",{class:"btnMath",onClick:_=>g(a.id)},"+",8,J)])]),t("div",K,[t("text",null,k("$"+a.price*a.count),1)])]))),128)):(r(),v("div",O,d[0]||(d[0]=[t("h1",null,"還沒有商品，快去選購吧！",-1)])))]))}},R=$(Q,[["__scopeId","data-v-2e2439be"]]),W={class:"product"},X={class:"remindChat"},Y=["src"],Z={__name:"ShoppingCartView",setup(m){const l=h([{id:1,name:"純淨的牛奶",price:60,count:0,img:"./milk.jpg",store:20},{id:2,name:"下班的救贖",price:250,count:0,img:"./beer.jpg",store:12},{id:3,name:"上班的快樂",price:75,count:0,img:"./boba.jpg",store:10},{id:4,name:"心痛的滋味",price:40,count:0,img:"./water.jpg",store:50}]),u=h(""),C=(o,s)=>{l.value=l.value.map(f=>f.id===o?{...f,count:s,store:f.store-s}:f),u.value="Add",_()},g=o=>{l.value=l.value.map(s=>s.id===o?{...s,count:s.count+1,store:s.store-1}:s)},n=o=>{l.value=l.value.map(s=>s.id===o?{...s,count:s.count-1,store:s.store+1}:s)},i=I(()=>(l.value.filter(o=>o.count>0).length==0&&(u.value=""),l.value.filter(o=>o.count>0))),d=h("./cartIcon.svg");function a(){d.value="./cartIcon2"+u.value+".svg"}function _(){d.value="./cartIcon"+u.value+".svg",p.value=!1}const e=h(!1),p=h(!1);function c(){u.value!=""?e.value=!0:(p.value=!0,e.value=!1)}return(o,s)=>(r(),v("div",W,[y(t("div",X,s[1]||(s[1]=[t("text",null,"還沒有商品喔！",-1)]),512),[[V,p.value]]),e.value?(r(),v("img",{key:1,class:"iconStyle",onClick:s[0]||(s[0]=f=>e.value=!e.value),src:A})):(r(),v("img",{key:0,class:"iconStyle",onClick:c,onMouseover:a,onMouseout:_,src:d.value},null,40,Y)),e.value?(r(),b(R,{key:3,buys:i.value,onAddCount:g,onMinusCount:n},null,8,["buys"])):(r(),b(z,{key:2,products:l.value,onSendCount:C},null,8,["products"]))]))}},te=$(Z,[["__scopeId","data-v-462b13c8"]]);export{te as default};
